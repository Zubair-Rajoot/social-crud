<div *ngIf="user" class="profile-container mat-elevation-z8">
  <div class="profile-header">
    <div class="avatar-container">
      <mat-icon class="avatar-icon" *ngIf="!user.avatar">account_circle</mat-icon>
      <img *ngIf="user.avatar" [src]="'http://localhost:3000/uploads/' + user.avatar" class="avatar-image">
    </div>
    <div class="profile-info">
      <h1 class="mat-display-1">{{ user.name }}</h1>
      <p class="mat-subheading-2">
        <mat-icon>email</mat-icon> {{ user.email }}
      </p>
    
    </div>
  </div>

  <mat-divider></mat-divider>

  <div class="posts-section">
    <h2 class="mat-headline">Your Posts</h2>
    
  

    <div class="posts-grid" *ngIf="posts.length > 0">
      <mat-card *ngFor="let post of posts" class="post-card">
        <mat-card-header>
          <mat-card-title>{{ post.title }}</mat-card-title>
          <mat-card-subtitle>
            {{ post.createdAt | date:'mediumDate' }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ post.content }}</p>
          <img *ngIf="post.image" 
               [src]="'http://localhost:3000/uploads/' + post.image" 
               class="post-image"
               alt="Post image">
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary">
            <mat-icon>thumb_up</mat-icon> Like
          </button>
          <button mat-button color="primary">
            <mat-icon>comment</mat-icon> Comment
          </button>
        </mat-card-actions>
      </mat-card>
    </div>


      <div class="no-posts">
      <mat-icon class="empty-icon">post_add</mat-icon>
      <p class="mat-body-1">You haven't created any posts yet.</p>
      <button mat-raised-button color="primary" routerLink="/create">
        <mat-icon>add</mat-icon> Create Your First Post
      </button>
    </div>




  </div>
</div>

<div *ngIf="!user" class="loading-container">
  <mat-spinner diameter="50"></mat-spinner>
  <p class="mat-body-1">Loading profile...</p>
</div>